layout: post
title: Angular.js使用感受
date: 2016-05-15 23:16:02
tags: ['Js', 'Angular.js']
---

从前对Angular的了解只是在别人的文章中，从来没写过什么实际的大项目，现在接手的项目是使用Angular开发的，先撸一遍基础概念，然后看项目代码来学习，前后也快一个月了，用起来感觉还不错，记录一下感受。
<!-- more -->

喜欢的地方:
---
作为一个MVVM框架，双向数据绑定是特色之一，我个人还是喜欢mustach的写法，因为简单。依赖注入则是另一个特色，一个很方便的功能，你可以将自己的代码按照一套标准来划分，放在不同的文件夹中，当你的controller需要某个功能时，就将它添加到依赖数组中，能让你更清晰地管理代码。

filter也是一个好用的点，前端展示的数据肯定都是很直观易懂的文字，对国内用户来说就是中文，但是在数据库中的值大部分不会直接存储中文，所以这时可以做好约定，数据库中来存key，前端来通过key来转化成对应的value，这就可以交给filter来做。可以自定义过滤器，其实就是一个操作数据并返回处理结果的函数。

使用`$resource`可以很方便地与RESTful服务端进行交互,自己定ActionName,配置`url`,`type`和`params`定义一个请求，便于管理。
能够通过各种指令扩展HTML本身也是很强大的能力，善用指令，能让开发效率大幅提升。而且可以绑定表达式，就可以更方便的做一些事情，比如动态绑定class。

蛋疼的地方:
---
`angular.module()`: 一说module就能想到模块，但是这里的module好像和模块有很大不同。。。通常情况下一个应用里应该只有一个`ng-app`(?),所以`angular.module()`好像也就那么一个- -。

Angular中ng-model对checkbox控件的绑定比较麻烦。通常状况下，一组checkbox的最终值应该是一个包含每个选中项的数组，但是在Angular中如果你把ng-model绑定到同一个变量，当你选中其中一个，其他所有的都会变成选中状态，再取消操作，所有其他项也随之取消。当你用`ng-true-value`为每个checkbox绑定不同值后，这组checkbox的作用就变得像radio一样了。。。总之就是麻烦，需要自己再进行处理一下。

Angular的错误信息太不友好了，太不直观，起初还对点一下错误信息跳转到官网这种方式有点新奇感，后来对Angular的报错方式累觉不爱/再见

不喜欢Angular自定义组件的方式，Angular中叫指令，`template`使用拼接字符串的方式写的，这样编写起来就很不友好。

另外:
---
的确，Angular.js很重，因为他内置好了很多东西，这种好坏是仁者见仁智者见智的，有些很常用的东西，比如动画，jQLite，SPA中要用到的router(好像某版本后分离出去了)等等就直接给你内置好了，你拿来用就好了，更方便，另一方面，这样也出现了一个问题，当你选择Angular来开发时，你的项目最好是一个大型项目，否则在一个简单的页面中使用Angular，就会显得格外的重。

数据绑定，监听虽然好用，但是还是要注意适度，否则会伤性能。

使用`Angular.js`开发一个完整的应用的话，一般还需要一些其他addon:
- `ui-router`: 路由，用来建立`state`和`url`的映射关系，不同的`state`对应着不同的UI。比本身的ngRouter好用。
- UI组件库: `Angular.js`的组件库不是很多，如果是开发后台管理系统的话，`angular-ui-bootstrap`就够用了。
- 懒加载: 我接触到的是`ocLazyload`。

后台管理系统用Angular来写真的再合适不过了。。。

End


