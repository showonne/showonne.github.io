<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>showonne</title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/tomorrow-night.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
<meta name="generator" content="Hexo 5.4.2"></head>
<body>
    <header>
    <span class="banner"><a href="/">showonne</a></span>
    <span class="menu">Menu</span>
    <ul class="menu_list hide">
        
            <li><a href="/" >Home</a></li>
        
            <li><a href="/archives" >Archives</a></li>
        
            <li><a href="/tags" >Tags</a></li>
        
            <li><a href="/links" >Links</a></li>
        
            <li><a href="/about" >About</a></li>
        
    </ul>
</header>
    <div class="main">
        
    <article>
    <h1 class='post-title'>
        <span>Angular.jsä¸­çš„manualLowercase/manualUppercase</span>
    </h1>
    <section class='post-content'>
        
            
        
        <p>ä»Šå¤©åœ¨çœ‹Angularæºç æ—¶çœ‹åˆ°äº†è¿™ä¹ˆä¸€æ®µï¼š</p>
<pre><code>// src/Angular.js
var lowercase = function(string) &#123;return isString(string) ? string.toLowerCase() : string;&#125;;
var uppercase = function(string) &#123;return isString(string) ? string.toUpperCase() : string;&#125;;

var manualLowercase = function(s) &#123;
  /* eslint-disable no-bitwise */
  return isString(s)
      ? s.replace(/[A-Z]/g, function(ch) &#123;return String.fromCharCode(ch.charCodeAt(0) | 32);&#125;)
      : s;
  /* eslint-enable */
&#125;;
var manualUppercase = function(s) &#123;
  /* eslint-disable no-bitwise */
  return isString(s)
      ? s.replace(/[a-z]/g, function(ch) &#123;return String.fromCharCode(ch.charCodeAt(0) &amp; ~32);&#125;)
      : s;
  /* eslint-enable */
&#125;;
</code></pre><p>å‰ä¸¤ä¸ªå‡½æ•°å¾ˆå®¹æ˜“å°±çœ‹å‡ºæ¥äº†ï¼Œç”¨æ¥è¿›è¡Œå¤§å°å†™è½¬æ¢ï¼Œåä¸¤ä¸ªå‡½æ•°æ˜æ˜¾ä¹Ÿæ˜¯è¿›è¡Œå¤§å°å†™è½¬æ¢ï¼Œåªæ˜¯é€šè¿‡ä½è¿ç®—æ¥è¿›è¡Œã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™å‘¢ï¼Ÿ</p>
<span id="more"></span>
<p><code>String.fromCharCode</code>æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ ¹æ®æŒ‡å®šçš„Unicodeç¼–ç ä¸­çš„åºå·å€¼è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<pre><code>String.fromCharCode(num1, ..., numN) 

String.fromCharCode(65, 66, 67) // &apos;ABC&apos;
</code></pre><p><code>ch.charCodeAt()</code>è¿”å›0åˆ°65535ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºç´¢å¼•å¤„å­—ç¬¦ä¸²çš„UTF-16ç¼–ç å•å…ƒã€‚</p>
<pre><code>str.charCodeAt(index)

&apos;ABC&apos;.charCodeAt(0) //65
&apos;ABC&apos;.charCodeAt(1) //66
&apos;ABC&apos;.charCodeAt(2) //67
</code></pre><p>Angular.jsé‡ŒæŠŠè¿™ä¸ªå‡½æ•°é‡å†™çš„æ˜¯å› ä¸º<code>String.prototype.toLocaleLowerCase()</code>è¡¨ç°ä¸ä¸€è‡´ã€‚</p>
<blockquote>
<p>toLocaleLowerCase()æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²è¢«è½¬æ¢æˆå°å†™ä¹‹åçš„å€¼ï¼Œè½¬æ¢è§„åˆ™æ ¹æ®ä»»ä½•æœ¬åœ°åŒ–ç‰¹å®šçš„å¤§å°å†™æ˜ å°„ã€‚toLocaleLowerCase()å¹¶ä¸ä¼šå½±å“å­—ç¬¦ä¸²è‡ªèº«çš„å€¼ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ³•äº§ç”Ÿçš„ç»“æœå’Œè°ƒç”¨toLowerCase()çš„ç»“æœç›¸åŒï¼Œä½†æ˜¯åœ¨æŸäº›æœ¬åœ°ç¯å¢ƒä¸­ï¼Œæ¯”å¦‚åœŸè€³å…¶è¯­ï¼Œå®ƒçš„å¤§å°å†™æ˜ å°„å¹¶ä¸éµå¾ªåœ¨Unicodeä¸­çš„é»˜è®¤çš„å¤§å°å†™æ˜ å°„ï¼Œå› æ­¤ä¼šæœ‰ä¸€ä¸ªä¸åŒçš„ç»“æœã€‚<br>-æ‘˜è‡ªMDNçš„æè¿°</p>
</blockquote>
<p>å·®å¼‚å°±åœ¨åœŸè€³å…¶å’Œå…¶å®ƒçš„æœ¬åœ°åŒ–æ˜ å°„ä¸ä¸€è‡´ã€‚</p>
<p>æ‰€ä»¥è¿™ä¸ªå‡½æ•°æ˜¯æŠŠå­—ç¬¦ä¸²ä¸¥æ ¼æŒ‰ç…§Unicodeæ¥è¿›è¡Œæ˜ å°„äº†ä¸€éï¼Œä¸­é—´é€šè¿‡ä½è¿ç®—å¤„ç†äº†ä¸€ä¸‹å¤§å°å†™è½¬æ¢(åŒä¸€ä¸ªå­—æ¯å¤§å°å†™ä¹‹é—´çš„ASCIIå·®äº†32)ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<code>String.prototype.toLocaleLowerCase()</code>æœ‰é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦é‡å†™<code>toLowerCase</code>?<a target="_blank" rel="noopener" href="https://github.com/angular/angular.js/issues/11387">çœ‹è¿™ä¸ªissue</a>é‡Œé¢çš„è®¨è®ºä»¿ä½›åœ¨è¯´è¿™æ®µä»£ç æ›´åƒæ˜¯å¯¹è€æµè§ˆå™¨çš„hackæ–¹æ³•ï¼Œæ‰€ä»¥ç°åœ¨å¯æœ‰å¯æ— äº†ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt">String.prototype.charCodeAt()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode">String.fromCharCode()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLocaleLowerCase">String.prototype.toLocaleLowerCase()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators">æŒ‰ä½æ“ä½œç¬¦</a></p>

    </section>
    
        <section id="comments">
        
        </section>
    
</article>

    </div>
    <button class="feedback-btn" data-feedbackok-trigger>Hello~ ğŸ¥°</button>
    <footer>
    <div class="info"><span>Powered By <a href="https://hexo.io/" target="blank">Hexo</a></span>&nbsp;&nbsp;&nbsp;&nbsp;<span>Theme by <a href="https://github.com/showonne/hexo_showonne" target="blank">Showonne</a></span></div>
</footer>
    <script
        src="https://cdn.feedbackok.com/widget.js"
        data-pid="0m524p3"
        async
        defer
    ></script>
    
<script src="/js/index.js"></script>

</body>
</html>
